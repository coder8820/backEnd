<!-- Transparent Navbar -->
<nav class="sticky top-0 z-50 bg-white/20 backdrop-blur-md border-b border-white/30">
  <div class="max-w-7xl mx-auto px-6">
    <div class="flex justify-between items-center h-16">

      <!-- Logo -->
      <h2 class="text-2xl font-bold text-rose-500 cursor-pointer">
        DynamicUi
      </h2>

      <!-- Desktop Search -->
      <div class="hidden md:flex items-center bg-white/70 rounded-full px-4 py-2 text-sm shadow-sm">
        <input type="text" placeholder="Search Favorite Homes..."
               class="bg-transparent outline-none w-48 placeholder-gray-600" />
      </div>

      <!-- Desktop Menu -->
      <ul id="desktop-menu" class="hidden md:flex items-center gap-2 text-sm font-medium text-gray-800">

        <li>
          <a href="/" data-path="/"
             class="<%= currentPage === 'home' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition">
            Home
          </a>
        </li>

        <li>
          <a href="/host/add-home" data-path="/host/add-home"
             class="<%= currentPage === 'add-home' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition">
            Add Home
          </a>
        </li>

        <li>
          <a href="/host/listings" data-path="/host/listings"
             class="<%= currentPage === 'listings' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition">
            Host Homes
          </a>
        </li>

        <li>
          <a href="/bookings" data-path="/bookings"
             class="<%= currentPage === 'bookings' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition">
            Bookings
          </a>
        </li>

        <li>
          <a href="/my-favorites" data-path="/my-favorites"
             class="<%= currentPage === 'favorites' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition-all duration-200">
            ‚ù§Ô∏è Favorites
          </a>
        </li>

        <li>
          <a href="/favorit-list" data-path="/favorit-list"
             class="<%= currentPage === 'favorit-list' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition-all duration-200">
            üìã Favorite List
          </a>
        </li>

        <li>
          <a href="/admin/dashboard" data-path="/admin/dashboard"
             class="<%= currentPage === 'dashboard' ? 'bg-rose-700 text-white shadow' : 'hover:bg-rose-100' %> nav-link px-4 py-2 rounded-full transition">
            Dashboard
          </a>
        </li>

        <!-- Profile Dropdown -->
        <li class="relative group">
          <button id="profile-btn" class="flex items-center gap-2 focus:outline-none hover:opacity-80 transition-opacity duration-200">
            <img src="/images/user.jpeg"
                 class="w-8 h-8 rounded-full border-2 border-rose-500 hover:border-rose-600 transition-colors duration-200" />
          </button>

          <div id="profile-menu"
               class="absolute right-0 mt-1 w-60 bg-white rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform scale-95 group-hover:scale-100 origin-top-right z-50">
            <a href="/host/profile" class="block px-4 py-2 hover:bg-rose-50 transition-colors duration-150 first:rounded-t-lg">Profile</a>
            <a href="/host/settings" class="block px-4 py-2 hover:bg-rose-50 transition-colors duration-150">Settings</a>
            <a href="/logout" class="block px-4 py-2 text-red-500 hover:bg-red-50 transition-colors duration-150 last:rounded-b-lg">Logout</a>
          </div>
        </li>

      </ul>

      <!-- Mobile Menu Button -->
      <button id="menu-btn" class="md:hidden text-gray-900 text-2xl">
        ‚ò∞
      </button>

    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-white/90 backdrop-blur border-t">
    <ul class="flex flex-col px-6 py-4 gap-2 text-sm font-medium">
      <a href="/" data-path="/" class="nav-link px-4 py-2 rounded-lg transition">Home</a>
      <a href="/host/add-home" data-path="/host/add-home" class="nav-link px-4 py-2 rounded-lg transition">Add Home</a>
      <a href="/host/listings" data-path="/host/listings" class="nav-link px-4 py-2 rounded-lg transition">My Listings</a>
      <a href="/admin/dashboard" data-path="/admin/dashboard" class="nav-link px-4 py-2 rounded-lg transition">Dashboard</a>
      <a href="/my-favorites" data-path="/my-favorites" class="nav-link px-4 py-2 rounded-lg transition">‚ù§Ô∏è Favorites</a>
      <a href="/host/profile" data-path="/host/profile" class="nav-link px-4 py-2 rounded-lg transition">Profile</a>
      <a href="/logout" class="px-4 py-2 text-red-500">Logout</a>
    </ul>
  </div>
</nav>

<!-- JavaScript -->
<script>
  // Mobile menu toggle
  const menuBtn = document.getElementById("menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");

  menuBtn.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  // Profile dropdown toggle
  const profileBtn = document.getElementById("profile-btn");
  const profileMenu = document.getElementById("profile-menu");

  profileBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    profileMenu.classList.toggle("hidden");
    profileMenu.classList.toggle("opacity-0");
    profileMenu.classList.toggle("invisible");
  });

  // Close dropdowns when clicking outside
  document.addEventListener("click", (e) => {
    if (profileBtn && !profileBtn.contains(e.target) && !profileMenu.contains(e.target)) {
      profileMenu.classList.add("hidden", "opacity-0", "invisible");
      profileMenu.classList.remove("opacity-100", "visible");
    }
  });

  // Prevent dropdown from closing when clicking inside
  profileMenu.addEventListener("click", (e) => e.stopPropagation());

  // Active nav link highlight
  const currentPath = window.location.pathname;
  document.querySelectorAll(".nav-link").forEach(link => {
    if (link.dataset.path === currentPath) {
      link.classList.add("bg-rose-700", "text-white", "shadow");
    } else {
      link.classList.add("hover:bg-rose-100");
    }
  });
</script>
